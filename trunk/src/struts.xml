<!DOCTYPE struts PUBLIC 
	"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
	"http://struts.apache.org/dtds/struts-2.0.dtd">
	
<struts>
	<bean type="org.apache.struts2.dispatcher.multipart.MultiPartRequest" name="monitorMultiPartRequest" class="com.twitpic.system.struts.EnhancedJakartaMultiPartRequest" scope="default" optional="true" />
	<constant name="struts.multipart.parser" value="monitorMultiPartRequest"/>
	<package name="default" extends="tiles-default">
		<!-- 
		<global-results>
			<result name="exception" type="tiles">error_404</result>
		</global-results>
		<global-exception-mappings>
			<exception-mapping exception="java.lang.Exception" result="exception"/>
		</global-exception-mappings>
		 -->
		 
		<global-results>
			<result name="error">/WEB-INF/pages/tiles/error.jsp</result>
			<result name="json">/WEB-INF/pages/tiles/json_response_tile.jsp</result>	
			<result name="index" type="redirect-action">index</result>
			<result name="login" type="redirect-action">login</result>			
		</global-results>
		
		 <action name="index" class="homeAction" method="index">
		 	<result name="welcome" type="tiles">page.index</result>
		 	<result name="success" type="tiles">page.main</result>
		 </action>
		 
		<action name="login" class="accountAction" method="login" >
			<result name="email_valid" type="tiles">page.error_email_not_valid</result>
			<result name="been_closed" type="tiles">page.error_been_closed</result>
			<result name="input" type="tiles">page.login</result>
			<result name="success" type="redirect-action">index</result>
		</action>
		<action name="logout" class="accountAction" method="logout" />
		<action name="edit_password" class="accountAction" method="edit_password" />
		<action name="edit_header" class="accountAction" method="edit_header" />
		<action name="edit_profile" class="accountAction" method="edit_profile" />
		<action name="reg" class="accountAction" method="register" >
			<result name="email_valid" type="tiles">page.error_email_not_valid</result>
			<result name="input" type="tiles">page.reg</result>
		</action>
		<action name="act" class="accountAction" method="activity" >
			<result name="re_act" type="tiles">page.re_act</result>
			<result name="login" type="tiles">page.login</result>
		</action>
		<action name="re_send_mail" class="accountAction" method="reSendMail" >
			<result name="email_valid" type="tiles">page.error_email_not_valid</result>
			<result name="login" type="tiles">page.login</result>
		</action>
		<action name="profile" class="accountAction" method="profile" >
			<result name="success" type="tiles">page.profile</result>
		</action>
		
		<action name="upload_pic" class="pictureAction" method="upload" >
			<result name="input" type="tiles">page.uploadpic</result>
			<result name="success" type="tiles">page.uploadsucess</result>
		</action>
		<action name="upload_info" class="pictureAction" method="upload_info" />
		<action name="picture" class="pictureAction" method="single_pic" >
			<result name="success" type="tiles">page.single_pic</result>
		</action>
		<action name="delete_pic" class="pictureAction" method="delete_pic" />
		<action name="comment" class="pictureAction" method="comment" />
		<action name="delete_comment" class="pictureAction" method="delete_comment" />
		<action name="tag" class="pictureAction" method="tag" />
		
	</package>
</struts>